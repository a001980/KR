/*
#京东晚八点红包雨

[task_local]
#京东晚八点红包雨
11 11 11 11 * jd_xyhby.js, tag=京东晚八点红包雨, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/jd.png, enabled=true*/

const $ = new Env("京东晚八点红包雨");
var version_='jsjiami.com.v7';const liI1i1=iii1II;(function(llI11i,i1iIi1,l1l1il,I11i1I,iliIi1,l1l1ii,Il1i1I){return llI11i=llI11i>>0x9,l1l1ii='hs',Il1i1I='hs',function(Ii1iii,iIIilI,il1l1,Ii1iil,Ilil1i){const lill11=iii1II;Ii1iil='tfi',l1l1ii=Ii1iil+l1l1ii,Ilil1i='up',Il1i1I+=Ilil1i,l1l1ii=il1l1(l1l1ii),Il1i1I=il1l1(Il1i1I),il1l1=0x0;const iili1=Ii1iii();while(!![]&&--I11i1I+iIIilI){try{Ii1iil=parseInt(lill11(0xfa,'7[3w'))/0x1*(parseInt(lill11(0xfe,'hBUv'))/0x2)+parseInt(lill11(0x17d,'suNm'))/0x3+-parseInt(lill11(0x169,'jq8N'))/0x4*(-parseInt(lill11(0xf0,'aa)V'))/0x5)+-parseInt(lill11(0x1a8,'^Joy'))/0x6*(parseInt(lill11(0x117,'MOmy'))/0x7)+-parseInt(lill11(0x10f,'ynyI'))/0x8+-parseInt(lill11(0x1a4,'^Joy'))/0x9*(-parseInt(lill11(0x146,'ze(d'))/0xa)+-parseInt(lill11(0x1af,'jq8N'))/0xb;}catch(II11ii){Ii1iil=il1l1;}finally{Ilil1i=iili1[l1l1ii]();if(llI11i<=I11i1I)il1l1?iliIi1?Ii1iil=Ilil1i:iliIi1=Ilil1i:il1l1=Ilil1i;else{if(il1l1==iliIi1['replace'](/[qHWVdFTSAyJuCQXgUpnK=]/g,'')){if(Ii1iil===iIIilI){iili1['un'+l1l1ii](Ilil1i);break;}iili1[Il1i1I](Ilil1i);}}}}}(l1l1il,i1iIi1,function(Iil1iI,II11il,iIIil1,IlllII,I1il1I,II111,lI1l1I){return II11il='\x73\x70\x6c\x69\x74',Iil1iI=arguments[0x0],Iil1iI=Iil1iI[II11il](''),iIIil1=`\x72\x65\x76\x65\x72\x73\x65`,Iil1iI=Iil1iI[iIIil1]('\x76'),IlllII=`\x6a\x6f\x69\x6e`,(0x14547e,Iil1iI[IlllII](''));});}(0x19200,0x3275a,Iii11l,0xcb),Iii11l)&&(version_=liI1i1(0xf6,'K79L'));const illIil=$[liI1i1(0x1b6,'x]6x')]()?require(liI1i1(0x1a6,'%hxK')):'',Ill1I=$['isNode']()?require('./jdCookie'):'',i11iiI=require(liI1i1(0x14f,'7CnZ'));let lIli11=[],lllI1I='',lillI1,IlIlii,i1l1i1={};if($[liI1i1(0x14a,']lH5')]()){Object[liI1i1(0x174,'@64&')](Ill1I)['forEach'](II1il=>{const I11i11=liI1i1;lIli11[I11i11(0x176,'D@2[')](Ill1I[II1il]);});if(process['env'][liI1i1(0x118,'n8wP')]&&process[liI1i1(0x120,'&vyA')][liI1i1(0x11f,'gy%O')]==='false')console[liI1i1(0x135,'H#Gj')]=()=>{};}else lIli11=[$[liI1i1(0x127,'7njW')](liI1i1(0x14e,'gy%O')),$[liI1i1(0x152,'s]Zr')](liI1i1(0xed,'iZOp')),...llI1I1($[liI1i1(0x1b4,'Cv^J')](liI1i1(0x112,'@64&'))||'[]')[liI1i1(0x116,'MOmy')](lllI11=>lllI11[liI1i1(0x137,'ze(d')])]['filter'](I1lIll=>!!I1lIll);!(async()=>{const I1llII=liI1i1,I1lIli={'TxOLf':function(II1ii,IIIIII){return II1ii||IIIIII;},'yQXil':I1llII(0x13b,'!E5l'),'Zbjer':function(lillII,ii1ilI){return lillII<ii1ilI;},'ETVsR':I1llII(0x10c,'d@mj'),'WZlQP':I1llII(0x11d,')OQ2'),'RDukE':function(lI1ll1,iIiI1){return lI1ll1<iIiI1;},'xsDPA':function(liil1I,i11ii1){return liil1I!==i11ii1;},'mZvtG':I1llII(0x192,'iZOp'),'aRLJa':I1llII(0x19e,'4BSw'),'ehKqU':'6|3|2|7|0|1|5|4','lgBah':function(IlIliI,l1iII1){return IlIliI+l1iII1;},'rNGvC':function(iiill1,lIli1i){return iiill1(lIli1i);}};if(!lIli11[0x0]){$[I1llII(0x12b,'Cv^J')]($[I1llII(0x197,'Cv^J')],I1lIli['ETVsR'],I1lIli[I1llII(0x168,'s]Zr')],{'open-url':I1llII(0x19c,'7[3w')});return;}for(let IIIII1=0x0;I1lIli['RDukE'](IIIII1,lIli11['length']);IIIII1++){if(lIli11[IIIII1]){if(I1lIli['xsDPA'](I1lIli[I1llII(0x1b8,'z!s!')],I1lIli['aRLJa'])){const I1lIlI=I1lIli[I1llII(0x196,'Rxug')][I1llII(0x17f,'Axi#')]('|');let ii1ill=0x0;while(!![]){switch(I1lIlI[ii1ill++]){case'0':console[I1llII(0x107,'d9#K')]('');continue;case'1':console[I1llII(0x1b7,'Cz7R')](I1lIli[I1llII(0xf1,'gy%O')](I1lIli['lgBah'](I1llII(0x13f,'@64&'),$[I1llII(0x186,'hBUv')])+'】'+($[I1llII(0x148,'!6k7')]||$['UserName']),'******\x0a'));continue;case'2':$[I1llII(0x157,'suNm')]=I1lIli[I1llII(0x15d,'hBUv')](IIIII1,0x1);continue;case'3':$[I1llII(0x15f,'Axi#')]=I1lIli['rNGvC'](decodeURIComponent,lllI1I[I1llII(0x10d,'!6k7')](/pt_pin=([^; ]+)(?=;?)/)&&lllI1I['match'](/pt_pin=([^; ]+)(?=;?)/)[0x1]);continue;case'4':await $[I1llII(0x1ad,'M9e!')](0x1f4);continue;case'5':await iiillI();continue;case'6':lllI1I=lIli11[IIIII1];continue;case'7':$[I1llII(0x1a7,'4BSw')]=0x0;continue;}break;}}else{IiiiI=I1lIli[I1llII(0x199,'iZOp')](llIlli,0x20);let llI1II=I1lIli[I1llII(0x160,'aa)V')],lIli1l=llI1II[I1llII(0xec,'jdgY')],lillIi='';for(let illIi1=0x0;I1lIli[I1llII(0x1a2,'d@mj')](illIi1,lIIili);illIi1++)lillIi+=llI1II['charAt'](IiiIil[I1llII(0x105,'Axi#')](IiiIii[I1llII(0x111,'@64&')]()*lIli1l));return lillIi;}}}})()[liI1i1(0x18e,'fb@q')](ii1ili=>{const Iil1il=liI1i1;$[Iil1il(0x126,'hBUv')]('','❌\x20'+$[Iil1il(0x130,']lH5')]+Iil1il(0x133,'MOmy')+ii1ili+'!','');})['finally'](()=>{$['done']();});function Iii11l(){const IlllI1=(function(){return[...[version_,'XQCjuyQsAjSiWHaTmpiV.XJcqAoJmK.uvK7dFgnU==','W5NcQNhcLGG','W6dcP2dcHcJdMSkJW4u','qCk1W4G','r8o1rG','kCkUW5TpWRq','hmolsmkt','W6rQW7ZdTce','W6RcS8keWRJdOG','fYX1','WPTmomopqCoxiW','W7uQW5TZA1xdUt4To8o2W5HcedldQ8o7AZrb','lSkqxgxdPq','cwqZteNdQmkwlSogm8k4WRZcGHRcRYu9qCk0WO0','rJJdHW','rYtdH8ocWQhdPW','W4RcNuOBW60','W7rnWOzgFW','Cmo5ymkwW7q','W5xcImkbvW','lbJcQSonWOa7W5hcQun/W5hcQb9pW6RcMc8DWQZcTmkUc8k5lmkRsmozxvhcPSoMW4/dNSodAx0gW7JdO2hcJqRdM3/dSCoUge1dCHbBkSkVfmkirMC5BdldNSkyWOfzWQdcSWXKWPCQA8kYW7eDgmosbmoAWPlcP8oMkSkPebLgrSkPoCoddXuVWRCKWOVdRWlcJSo1t8kNo8kYWQ7dNCkLBSk3cmolW44iWPiSWP/dKmolW4RcLcjekwW3bKFcOCk1nSoeWPNdP8koWQXxrCoXgeG8WRrsW57cV8oscHX5rx/dTJb4FZpdSmo8WOddTqTBW5RcGmoNW5aEWPnIw8oVW5RdQKVcJMfmmhOWW6xcS8knu10VW6bHWRBcKdxdOSogiCkybxVcUSkkhSk6WPNdSSoGW6niW5OIkmkDWPNcSrNdMmktW6PbW4KxW6POtZpcUmklW4JdHmofFYFcLc/dRxhcSepcVqNcUmkyWQpdSCokeG7cJmo3WOdcG8oAW6xcImovWO7dSSo5BSomW45rWQZcU2pdLg49WOJcKSo5WPJcLhRdIIldNCk7W6z7W5GkWPhdNZZcHgzDWP8nhqW6W7X9WRlcHCoKCCk0qSo6hCkoqCo6W63dSCoRkSoytmkMW4CmWRBcM0awBYHrW7DYW40gWQZcHGhcK8kZWQ57tWeoW7pcICkiWP7dRJ5iWPxcHqxdSSoNz0DxW6fAW53cM1fvimoKB8kbzd8WbZpcUvfOWPm3WOXpCCopdWtcR8orfSo3W4dcHmoNvH/dT8oRWOBcN8kHWQDrl1NdJJZdNmonoLf6W7zYW6m4BxJcTKNdOYtcHXfTyHFdSCk4W6Gxzb7cKMbVW58GWRC1rmkAhKJcMmosBmoszCkUW7BcTXZdNmkkW78Lh8kYWQ3dK8oma8ojBSoiW41PuSk8W5TvW5ldMxHgt8kMW4ldUIv7uIGtWRHwWPtcVMNdICk6W7XmWPFdNmo/W7RcISo9WQhdSmk1W5y3hCoeW7WrWP8vW4CtWQxcQCkyW5Kxx8k1futdQY02n8kXWP/dNSozWP4NgqvvCGpcJSogfqPQumoSeshdQJVcSa5HW7Onf08gWQqejqhcQHThzSk7pSoCjttcU8oFbmo9W6ZdLCkvW6ncqmkTW5xcGSkaFhtcPmkoWQSQW6vIW6ZcISoSvSkmySoRbmkka8kql8osDHWIW65vWPVdSXWsAqFdVr9QW7XMW5lcQ8kpW48HvdetWR9mW5vrkG','W5NcNSkyFmoe','lmk45AsJ6lEaWRddGUwoQEwzKSofW7W','WO8vW6C','l0G4','dv8yWOiS','W7y2WPPRqCog','W6HdWPm','jWZcQSoiWOC/W5/cQbf5W6/dRXPsW6ddJq','pIb2WPNcMG','pCkHWRJcLGtcGxjgCmkqWPZcNetcNL41','WOjwtMVdRG','BmoCW7W','W57cM8kPWO7dSq','WPHLWOuynaVcU+w9KEwMLoobQos4TEs6OoI0GEwoQW','WPBcHmkRys5HW7BdIq','W6e6W4XrE1ldOG','wGtdISkpgKORWR/cR17cVMddNq','W6BdQSk4EdG','WPbgk8oUuSor','WQpdNWCsW4m','WQDPW4C3g8ktFwRcNejjW6W','W53dP8kbWQ8D','obBdKSkdxSk9seG','hfJcL8oBqWbxWQJcIulcGxZdRq','W5lcMSkIxCoZsa','WOdcN1dcKmkGW4dcKg0','WQvqrfRdVW','dmkGDwhdVG','W6NcJfdcQWtdVCk8W4y','y34gW63cLCodW6FcMmkQtcSTmmonn3JcLMiyW5y','W6WJ5AAu6lw8WO1g5y6d5zUStCo6','r8oEFCkGW4m','W7tdQIFcSSk1WOiO','D0tdSIyA','WR7dJYykW4C','EIddOmkLha','smk0W5NdJCoLna','e8ozumkCsW','W5tdMtJdQv/cLW','WPmBW7jSmq','W798WOhcQXu','ibi5W6RcMG','WR9OWPhcGMW','fYrqWPdcVG','FmkCW4ZdGCoh','W47cKmkVWOVdP8kYWRa5','pY3cGSonWOi','WRRcRNZcVa','W6BdU8kOBtq'],...(function(){return[...['xowoKoIbJoI8TUAoTEs7KEs4R+AoIowpSE+8UoIUS+AGO+AFJoE/MEE4Na','WQ7dQWqdW74','W7iZWPrPWPKCDNSvWPqJ','scykW5Ds','dCoFz8kVsW','W4tdLt/cH8ke','WPBcMhZdS1xcNvtdU3G','qc8GW74','W7BcGCoReei','W4ZcPSkBxmoh','m0Ojrg0','fSoyuW','c8oDxCkPvq','W7i4WQnqwG','W4VdGI0','W77dNMO4WQi','WOVdO8oQW5WI','W7KQW5zb','W6VcGSk4WORdJa','W4/dQmoIvq','W4ZcNmorcua','WORdSWOc','fJb1','WOZdOCkmW4ST','r8o5pWdcNSkt','eZDMWOhcPCoLCXrPWQFcGCoEjSkqWPvwCaFcIspdL25zW6esigmBW71ujCk4Db1tWRBdJmkwlSo1xH/dOJhcNYJcUSkIwmk8cmk2W5hcLGBdVSofW6nlW4xdGCkYWOLAErCyWPRcRvilWPe','sCkoamoibmoXBXrpCSkurW','tcePW6i','W6JcK8kMWPddNq','W67dH8kPWQ4p','W7nUW7RdHJf1p8obW6NdHmopAmo5FsRcO8kGW4H5ka','Bs84vCoO','WOjWuL3dMq','p3RdNYldOW','WRLZWQ/dUxe','eI12WPtcRG','zSo3ymkGW7dcGv4','WRrtWOFdQ1q','6k+N5yUV6zIx5OwC5z2RbCk4WRVdSmkH6l6G5yw85Qon5l635PEo5ysd5A+MWRNLUzZOR6xPGyZOVjROHipMNRdLJz/OJkxLJRuIWOZdRmkobCoT','luyYWPy','W5pcNCkyqSoKf8kOxtxdH8oYaqNdPvxcKCoTWRy2W63cHZRcQmoiDGT/ASkrWOVcKSkjWQLmW6fbsmouhwBdJCkgW67dSCkgW7dcNSoHWRZdM8o7yCoSWP/dKthcV8kCr3tdPb50W51ojZFdHqFdGhqlymktvh40rqiNxhrACr/cSmoEj2Hyvg7cQc/dNCkdWO3dKsFdNr7cOX5DW7ZdGmkUoCkcWOddKmo6rCountrszMZcNYldUCkTW67dU8k4pNlcQG','5lUE5Asr6kYA5lIi77Y55lMe5R+N5zM+6BIB','saFdHmoHWPO','W6vwW68MWRe','WRHfWQxcOuy','W5BdON8uWOm','WOXLsL7cHI9Vzh1by8oIWRmSvxeurCksF34/WPJdOaG','WRhdPd0HW5O','WRBdGCoxW6ON','WRPIWQpcIN7dRq','WPDLteFdKMCPAxy','e8kGwKddPq','rsRdJCoI','WQnQW4fKWPq','WRZdPce3W5i','gSkNDG','W65LWQpcPG8','WQH3W5ePW59CmYmvWR8jW4tdJZVdINrCdSoXj8kAW4j3W6bnqCkyeSkrAmoxuCool1tcNSodgutcR3pdNHe','mH7dHCkj','E0tdIGa3','WOH+wq','d3eQwq','W5ZcJmky','b8khW7XzWO0','vSk6W5ddRmo4kW','WQNcPmkeWROxW4ddMSkx','WPKsW6rpgG','W41vW7n6oHbdW5W9WQRcTKy','C3hdTGyWiSkuWQZdK8k8CNtdPcZcMCoY','WQFcOmkqWQWVW7FdKmkj','W6yTWODPrSoervRcRW'],...(function(){return['scldHmk6W6S','dgmG','W7xcUCkgWQZdUa','FSotW6pcTa','WR5LWOVdIhq','WPBcMxlcSqtdIrxdU3aYW6u/xq','W7ldRcFcV8kIWP89fWbNW5Ggg0uSW610uvq','rCo6W6NdN0O','pbVdGCkbFSk7sLGPxrtcI0BdPSkLW7OPWPdcHrlcGMSpWRpcRCoaWReIWOOCW6rlWRSDnCozW4JdUHZdIK11t8oQWQRcKcHhtSo4WQpcNrWtWPZdRJ7cICkXtmk9WR3cVmkHuCkff8oCWOrFWPerWR9UWROklaVdMqxdUSovW6BcKZFcNCorCKtcL8kCDd4foeHos8oUW4TbW59eWOHyWQz0AxeRWRhdOSkNW5hcKgawW7WQzdBcUCkSW53dUbCGWPJdPSoeWPtcLeGlWRm1W6xdQgLWWPFcSCo9WOXghmk9W7FdPtJdN8o5W7v+ymoiAmknabeRcZ/cJCoxcxWrW7HrwSozbCkFrKClEGuqoei1WPxdO8kLW4f5W5BdKd1+W7RdPmknC8k6WOqtgmoKW6OgWPxdU3S2Dh/dLCk5emk1WQC8EJhdSSksi8kBW63cPNLDWRRdNmoOa35exIhcNCoUW6rlzrSKreNdUSknW4ZcVH/dG8omW5JcKWZcRmozBb9HpCoaWOWAaSoQWORdNCkjtmo1r3xcKYfBfSk8WO7cTGbMWQesWPRcPSocW4ZdSmkiWQ9SW7GAW5hdVKJcLmolW7lcUqNcOtBdIhldHmocW4fyos85dmovisFcNfrzW7hcVCoBW47dVmkJW7BcKwH7W4GsW6RdQmopWQeHBCoMleVdH2JcUaXTW7WcWQ4DWOPGW7q8g8oHy8o+t8kPb8kusKnSoemik8oBDhRdNKJdOfZcPmkPtSkZW6hdR8oiBGFcQdukW6/dSCk+f8k6WQBdV8ojArhdPmoDESo0hYyfWRtdHCoMWPb4WP3dNCopASksbtDmzCkpW4JcHwJdKSkAWOldHwXbW5/cSmkhqSoPW5hdK8k/W7/cQ8oFWOZdQCoMWPdcGdq2WOJcOJJcO8o0gCkLW7BdTCoQbK10o0GSxxWOW71sc8kaWRBcJCkWj1bYWQ3cJsijW5W+WQZdNuVdJKhcTbyEW5hdKrBcQ8ogzq48W4jycSkAw0O/W4DHvmodWRtdRdfOWPlcLJvMreRdVYTdW6u8WOiFqbFcK0tcR0S6imoHW4HLWQZcLmoFW5S4W61yiCkqW5VcRSo3wSojW7tdMmkAwLqKW4z1bCkdCrJdUehcNZ4Ilc8YWOvYktLrbIldHSklW5hdJ2dcTLziW5KoWO7dHu7dKmkkWPNdKgTCuafNWQpcUXaIW5KSFhKclmkyWOvMWOldPZXYB8oFWO55q8kEDqu','W6PyW7W','tc7dLmoJWRldOCke','BSoxW74','WRP4WQddOvfT','g8obvG','W4v3WRdcPqO','kHOOW7RcGG','WO5bwKNdTq','W5jdW6VdSay','qISJW7XtbG','WQVdSWeqW50CW7VdMCo2','W7pcJLxcRdC','yCoXySk0eW','DeZdQ8kuW5SMW5tcQXPyW4O','W4BcHh3cOqu','W41VW6ekWOO','hSk7qYvl','WOLIwq','bCk8y1JdNSoeqCoIAG','c2mTvvVcV8oql8ovlSk6WRZcMqm','W6BcLL8','W7JdRLmgWPG','b0uavLS','W7e3WPjHW7uLCMypWP0','W7xdMCooEsNcH1ZcNq','WRn3uvJdJa','psKVuSofF0qMWQFcS8klW47ORjpMSzNLPRhOTOxVV5JOROdMOAVMNytNVlBOT4hPHjZORQy','shyGWPJcSSkvoM56','W5ZdSSo1wa','W7bHW5qcWPi','mtRdKSkYyq','es3cNCoEWRy','W5RdGL4hWPq','hZBdHCkrwq','W73cJ8kLWPBdMW','WRRdLGaOW5e','WRvLWQu','eZDMWOhcPCoLCXrXW6ddGmkDzCouWPSCpqVcIW','W5JdRLy2WOxdVG','tmkVW4RdUmoKFaRcPuGzimkwgKC+sZ8KauXYWOmnW4a8W5S6WRunpGhdQCoXw8kpr8ogW4pdP8ktWQtcS8oFjN0/WOS','WOFcVGO4WPxdNbOksq','44gn5OY156AS44cT6kYi5ywu6i+E5y2y5lMn5lI56lEu5yYq5lQbW5xcHfBdICoJWRvP55Iy5OY95l6N55AGWP8zeJTEW73NMQRKUQpKUj3NRRNLIiZOJ5JLJ74','oX7dHCklEa','uHCbASoK','W73dRZJdRmoCWRtcRKeCwb88','aWvtWOFcNa','W6aUW4fwCuW','W5eGW4bzD0tdOHSB','WP57WQNcILO','WOSoW7rVj04IWPWOWRpcUrhcSCkImxaTWPCFjCk9WOFcKmo7DCk0WO3cQCoVEbTPWPBcNmkJW5eWimkoWPFcMmoGbe/cIYuVWQ9tWP7dTXHECIW0WQRcRCk+WO9KAXBdIuVcLqTFehxdPCoCamoPFvbnncOUWRhdOmkoW7RcO0pdR8oaW4dcUsbqW6hdQ8kPW7T/BMGdW6hdVCoipCoVgCo3fSkxW6jSWR7dPrBdOSorW7xcMCoDxSkCu1brhJH6W73cG1L5qGi1kM8fWRWJW4HAeCkhlGvbWOhdHSoPWOy8mCkpevFdJmoFWP7cVCkPW7JcOmoaFrNcVCoQmdC9BCoEW4hdR8ksBMhcKmoLcCkFW7iRW5WvWQddSSobW4yDWQXXta0LFCoAW55Gy8oFWO3cOSoMgwjDW4BdN8osFalcSuKHkCkUeeddGCkXaGWEWQdcQSkZWPlcI3FcVGjaWPLVWPjzzhJdG33cRCoUfmoLgGxcNvvKdqRdQCoSod02WOxdGmkWlX7dU8kaWRi9vCo9oc1anmooW4lcOmkOWPGrpSoBW41yW63dISktWRBcJexcQ8kqW7pdKsBdLCkjWQFcICohWOH0bmoqsSkhyCohW67cNtKKW7RcKSkMW74AsmkFWQJcMtJcM8kAW4RdO1xcVsNdHhuDWQNcIfTLiCkZW5riBSoZWP7cPmkDjNJdPGBdTSkTW4xcU0T+jCkjnCo3ivNcRSk1W4n0W7pcTSoTj0hdTsu2WP9zz1mxW4OPzGldSCkAgmkrteTVWQW/bSotWRCWCSoNm1KoBZldHx7dKX7dTmkXE8kpBmoVWQSTW4bRWPNdPMHPuq','W7FcJmkTWRZdM8kH','BCo5yG','mCkQiSotWQhdKu/dNSk3WO8UW70','yCoEFSkYdhNdILC','iI/dPW48jSoxWPNcSa','W4VcHSkFrG','WOavW6r6','ieG7WPy','WRBdPSonW6atcSoEW43dPb/dMCk4wSo4vSk0WQjTWR47r3KIp8k+EufsWRzqgrtdJ8ouoSoMymkMW6i1nK7cQW'];}())];}())];}());Iii11l=function(){return IlllI1;};return Iii11l();};async function liil11(){const I11i1i=liI1i1,liil1i={'nIfVe':function(lI1lil,i1l1iI){return lI1lil!==i1l1iI;},'OYKLi':'pMYDG','zhdPN':function(liil1l,lI1lii){return liil1l==lI1lii;},'vVOGK':function(Iiili1,Iil1l1){return Iiili1+Iil1l1;},'xFAvJ':'抽中：','gqJjw':'活动火爆','Gqkre':I11i1i(0x18c,'x]6x'),'cLdfI':'Nfudw','aOgYy':I11i1i(0x1ae,'x]6x'),'UqSLB':I11i1i(0x145,'iZOp'),'Wfovp':I11i1i(0x142,'VaJ8'),'whSVx':I11i1i(0x1b0,'s]Zr'),'TZxzM':I11i1i(0x17b,'Rxug'),'nMtWc':'7m_tf2OArtOndOSDV7IWeQ','NiYFi':function(i1i11I,il1iIl,iii1ii){return i1i11I(il1iIl,iii1ii);},'EcdhL':'bd6c8','jPdgI':I11i1i(0x17c,'hBUv'),'qPNAK':I11i1i(0x12a,'K79L'),'XXMTU':function(il1iIi,iii1il){return il1iIi+iii1il;},'sINVe':I11i1i(0x1aa,'Cv^J')};return new Promise(async II11li=>{const l1l1iI=I11i1i,I1l11i={'functionId':liil1i[l1l1iI(0xfc,'g20X')],'appid':liil1i[l1l1iI(0x167,'suNm')],'clientVersion':liil1i['TZxzM'],'client':'ios','body':{'linkId':liil1i['nMtWc']}},iIIiiI=await liil1i[l1l1iI(0x17a,'&llk')](l1l111,liil1i[l1l1iI(0x13a,'hBUv')],I1l11i);let liiI1i={'url':l1l1iI(0x10a,'&vyA')+iIIiiI,'headers':{'Referer':liil1i[l1l1iI(0xea,'g20X')],'origin':liil1i[l1l1iI(0x125,'Axi#')],'User-Agent':l1l1iI(0x1b2,'!6k7'),'Cookie':liil1i[l1l1iI(0x129,'Rxug')](lllI1I,liil1i[l1l1iI(0x11e,'gy%O')])}};$[l1l1iI(0x1b5,'M9e!')](liiI1i,async(ililIi,lilIIl,ililIl)=>{const I1llI1=l1l1iI;try{if(liil1i[I1llI1(0x103,'1hN^')](I1llI1(0x15b,'7CnZ'),liil1i[I1llI1(0x10e,'n%Oo')])){ililIl=JSON[I1llI1(0x12f,'MOmy')](ililIl);if(ililIl){if(ililIl[I1llI1(0xff,'D@2[')]==0x0&&liil1i[I1llI1(0x1a5,'%hxK')](ililIl[I1llI1(0x141,'@64&')],!![]))console['log'](liil1i[I1llI1(0x100,'fb@q')](liil1i[I1llI1(0x110,'hBUv')],ililIl[I1llI1(0x19d,'!6k7')]['prizeName']));else liil1i[I1llI1(0x14d,'Rxug')](ililIl[I1llI1(0x11c,'H#Gj')],0x7d0)&&ililIl[I1llI1(0x1ab,'K79L')]==liil1i['gqJjw']?console['log'](liil1i[I1llI1(0x113,'d9#K')]):console['log'](ililIl['errMsg']);}}else lilii['logErr'](l1iiI,ll1li);}catch(i1l1II){liil1i['nIfVe'](liil1i[I1llI1(0x18d,'Cv^J')],liil1i[I1llI1(0x18f,'d9#K')])?$[I1llI1(0x156,'&vyA')](i1l1II,lilIIl):l1lIil[I1llI1(0x115,'Axi#')](IiiIli,iillli);}finally{liil1i[I1llI1(0x173,')OQ2')]==='KCiiw'?II11li():(IiiIlI=Iilli1[I1llI1(0x159,'%hxK')](I1l1Il),llIll1[I1llI1(0x16e,'suNm')](Illl1l[I1llI1(0x195,'g20X')](Illl1i)));}});});}function iii1II(_0x220f2c,_0x164d1c){const _0x4f28a9=Iii11l();return iii1II=function(_0x3e81e7,_0x3782fd){_0x3e81e7=_0x3e81e7-0xea;let _0x580bff=_0x4f28a9[_0x3e81e7];if(iii1II['yMCuko']===undefined){var _0x5b0645=function(_0x334e7c){const _0x4404ab='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x16de1d='',_0x3a4d44='';for(let _0x2713aa=0x0,_0x2cbd04,_0x39d2b8,_0x7d40d3=0x0;_0x39d2b8=_0x334e7c['charAt'](_0x7d40d3++);~_0x39d2b8&&(_0x2cbd04=_0x2713aa%0x4?_0x2cbd04*0x40+_0x39d2b8:_0x39d2b8,_0x2713aa++%0x4)?_0x16de1d+=String['fromCharCode'](0xff&_0x2cbd04>>(-0x2*_0x2713aa&0x6)):0x0){_0x39d2b8=_0x4404ab['indexOf'](_0x39d2b8);}for(let _0x4e3d08=0x0,_0x4d7fca=_0x16de1d['length'];_0x4e3d08<_0x4d7fca;_0x4e3d08++){_0x3a4d44+='%'+('00'+_0x16de1d['charCodeAt'](_0x4e3d08)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3a4d44);};const _0x2da18a=function(_0x2e77da,_0x10f503){let _0x2870d3=[],_0x26f3ec=0x0,_0x2b7478,_0x364e5b='';_0x2e77da=_0x5b0645(_0x2e77da);let _0x55c812;for(_0x55c812=0x0;_0x55c812<0x100;_0x55c812++){_0x2870d3[_0x55c812]=_0x55c812;}for(_0x55c812=0x0;_0x55c812<0x100;_0x55c812++){_0x26f3ec=(_0x26f3ec+_0x2870d3[_0x55c812]+_0x10f503['charCodeAt'](_0x55c812%_0x10f503['length']))%0x100,_0x2b7478=_0x2870d3[_0x55c812],_0x2870d3[_0x55c812]=_0x2870d3[_0x26f3ec],_0x2870d3[_0x26f3ec]=_0x2b7478;}_0x55c812=0x0,_0x26f3ec=0x0;for(let _0x52e099=0x0;_0x52e099<_0x2e77da['length'];_0x52e099++){_0x55c812=(_0x55c812+0x1)%0x100,_0x26f3ec=(_0x26f3ec+_0x2870d3[_0x55c812])%0x100,_0x2b7478=_0x2870d3[_0x55c812],_0x2870d3[_0x55c812]=_0x2870d3[_0x26f3ec],_0x2870d3[_0x26f3ec]=_0x2b7478,_0x364e5b+=String['fromCharCode'](_0x2e77da['charCodeAt'](_0x52e099)^_0x2870d3[(_0x2870d3[_0x55c812]+_0x2870d3[_0x26f3ec])%0x100]);}return _0x364e5b;};iii1II['JEGjgA']=_0x2da18a,_0x220f2c=arguments,iii1II['yMCuko']=!![];}const _0x2631af=_0x4f28a9[0x0],_0x39277a=_0x3e81e7+_0x2631af,_0x405fb2=_0x220f2c[_0x39277a];return!_0x405fb2?(iii1II['FALAQM']===undefined&&(iii1II['FALAQM']=!![]),_0x580bff=iii1II['JEGjgA'](_0x580bff,_0x3782fd),_0x220f2c[_0x39277a]=_0x580bff):_0x580bff=_0x405fb2,_0x580bff;},iii1II(_0x220f2c,_0x164d1c);}async function iiillI(){const I11i1l=liI1i1,lilIIi={'LnStw':function(i1l1Il,llIli){return i1l1Il===llIli;},'fGpER':I11i1l(0x190,'1hN^'),'fhGLu':function(i1i11l){return i1i11l();},'IXdlE':I11i1l(0x18b,']lH5'),'RZNxW':I11i1l(0x108,'hBUv'),'ExcwX':'jdpingou;iPhone;5.30.0;appBuild/100977;supportApplePay/1;hasUPPay/0;pushNoticeIsOpen/0;hasOCPay/0;supportBestPay/0;session/225;pap/JA2019_3111789;supportJDSHWK/1;ef/1;ep/%7B%22ciphertype%22:5,%22cipher%22:%7B%22ud%22:%22ZtVsDtvuZwC0CzdsZWTuEWS0YWS5DJTrDJTvDWSnZJu1YzU2CtVvDq==%22,%22bd%22:%22YXLmbQU=%22,%22iad%22:%22%22,%22sv%22:%22CJGkEK==%22%7D,%22ts%22:1677227105,%22hdid%22:%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw=%22,%22version%22:%221.0.3%22,%22appname%22:%22com.360buy.jdpingou%22,%22ridx%22:-1%7D;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148','YPhfP':I11i1l(0x198,'7[3w')};return new Promise(async i1i11i=>{const il1il=I11i1l,II11l1={'hSnzG':function(IiiliI,iii1iI){return lilIIi['LnStw'](IiiliI,iii1iI);},'qjiPf':lilIIi[il1il(0x13c,'g20X')],'gTjuY':function(llIll){const Il1i1i=il1il;return lilIIi[Il1i1i(0x166,'jdgY')](llIll);}};let Iil1lI={'url':il1il(0x114,'%hxK'),'headers':{'Referer':lilIIi[il1il(0x143,'oPxx')],'origin':lilIIi[il1il(0x16d,'K79L')],'User-Agent':lilIIi[il1il(0x13e,'Axi#')],'Cookie':lllI1I+lilIIi['YPhfP']}};$[il1il(0x1a1,']lH5')](Iil1lI,async(il1iII,iilli,IlllIl)=>{const iIIili=il1il;try{IlllIl=JSON[iIIili(0x175,'Axi#')](IlllIl),console['log'](JSON[iIIili(0xf5,'Rxug')](IlllIl));}catch(II11lI){II11l1[iIIili(0x193,')OQ2')](II11l1['qjiPf'],II11l1[iIIili(0x16f,'suNm')])?$['logErr'](II11lI,iilli):lilil(ll1ll);}finally{II11l1[iIIili(0x153,'4BSw')](i1i11i);}});});}function l1l111(I1l11I,Ilil1l){const Ii1iiI=liI1i1,iIIiii={'gKHby':function(IlllIi,iIIiil){return IlllIi+iIIiil;},'fbSzS':function(i1l1Ii,I1iIIi){return i1l1Ii===I1iIIi;},'MykCL':'object','AAztC':function(I1iIIl,lI1IIl){return I1iIIl!==lI1IIl;},'fUGja':Ii1iiI(0x104,'!6k7'),'LTrJo':function(i1ilI,iii1lI){return i1ilI==iii1lI;},'VkimZ':Ii1iiI(0x163,'!6k7'),'YJTgs':Ii1iiI(0xee,'gy%O'),'xNOXY':'ykzZP','XGrIP':Ii1iiI(0xf2,'fb@q'),'CbiLu':Ii1iiI(0x131,'aa)V'),'JURiS':Ii1iiI(0x139,'aa)V')};let iilll={'appId':I1l11I,...Ilil1l,'ua':iIIiii[Ii1iiI(0x184,'C5lT')],'pin':$['UserName']},il1iI1={'url':Ii1iiI(0x191,'g20X'),'body':JSON[Ii1iiI(0x1a9,'ze(d')](iilll),'headers':{'Content-Type':iIIiii[Ii1iiI(0x172,'1hN^')]},'timeout':0x7530};return new Promise(async i1ilI1=>{const iliIiI=Ii1iiI,Iiilii={'gEcZq':'不多说了，乌漆嘛黑','Dzubw':'eIasK','PmDPi':function(Iil1li,Iiilil){const Ilil1I=iii1II;return iIIiii[Ilil1I(0x1b9,'7CnZ')](Iil1li,Iiilil);},'Hjczz':iliIiI(0xfd,'n%Oo'),'gaVPr':function(Iil1ll,iillI){const II11iI=iliIiI;return iIIiii[II11iI(0x15c,'d9#K')](Iil1ll,iillI);},'FwjxJ':iIIiii['MykCL'],'FHewB':function(lI1III,IIliIi){const Il1i1l=iliIiI;return iIIiii[Il1i1l(0x14c,'g20X')](lI1III,IIliIi);},'nZLUQ':iIIiii[iliIiI(0xf9,'K79L')],'INSjJ':function(IllIiI,i1il1){return iIIiii['LTrJo'](IllIiI,i1il1);},'bLIIr':iIIiii['VkimZ'],'Knaoq':iIIiii['YJTgs'],'GFoER':iIIiii['xNOXY'],'RJnSe':function(I1l111,IIii1l){return I1l111(IIii1l);}};iliIiI(0xef,'n8wP')===iIIiii[iliIiI(0x15e,'&vyA')]?Iliiii[iliIiI(0x19f,'g20X')](Iiilii[iliIiI(0x101,'!6k7')]):$[iliIiI(0x11a,']lH5')](il1iI1,(liiI11,ililI1,IIii1i)=>{const Iil1ii=iliIiI,i1ili={'jzAIB':function(I1iII1){return I1iII1();}};let Iiill1='';try{if(Iiilii['Dzubw']!==Iiilii['Dzubw']){if(lil)II1lli[Iil1ii(0x128,'@64&')]=![];else{if(ii1I1I)IiIl=IiIi['parse'](iI1ll1);IlI1Il['getAuthorCodeListerr']=!![];}}else{if(liiI11)console[Iil1ii(0x121,'n8wP')](Iiilii[Iil1ii(0xf3,'Jqqo')]('',JSON[Iil1ii(0x119,'fkf4')](liiI11))),console[Iil1ii(0x1b3,'fb@q')]($[Iil1ii(0x18a,'H#Gj')]+Iiilii[Iil1ii(0x1b1,'!E5l')]);else{IIii1i=JSON[Iil1ii(0x12e,'VM)^')](IIii1i);if(Iiilii[Iil1ii(0x170,'ze(d')](typeof IIii1i,Iiilii[Iil1ii(0x164,'iZOp')])&&IIii1i&&IIii1i['body']){if(Iiilii[Iil1ii(0x19b,'z!s!')](Iiilii[Iil1ii(0x1ac,'Axi#')],Iil1ii(0x162,'oPxx')))ii1I1l[Iil1ii(0x144,'7njW')](ii1I1i,llI),llliI=null;else{if(IIii1i[Iil1ii(0x17e,'jdgY')])Iiill1=IIii1i[Iil1ii(0x178,'iZOp')]||'';}}else Iiilii['INSjJ'](IIii1i[Iil1ii(0x11b,'%hxK')],0x190)?console[Iil1ii(0x171,'jq8N')](Iiilii['PmDPi']('\x0a',IIii1i[Iil1ii(0xf4,'g20X')])):console[Iil1ii(0x134,'%hxK')](Iiilii['bLIIr']);}}}catch(iii1l1){Iiilii[Iil1ii(0xeb,'1Si)')](Iiilii[Iil1ii(0x12d,'E9nT')],Iil1ii(0x177,'@tDZ'))?IiilIl[Iil1ii(0x138,'VM)^')]('','❌\x20'+iii1Ii[Iil1ii(0x16a,'jdgY')]+Iil1ii(0x150,'7[3w')+iii1Il+'!',''):$[Iil1ii(0x12c,'Cv^J')](iii1l1,ililI1);}finally{Iiilii['GFoER']!==Iiilii[Iil1ii(0x151,'MOmy')]?i1ili['jzAIB'](I1i11i):Iiilii[Iil1ii(0x106,'iZOp')](i1ilI1,Iiill1);}});});}function l1iIII(liiI1I){const lill1I=liI1i1,ililII={'lHALS':'0123456789abcdef','VSHqs':function(IllIi1,lilIII){return IllIi1*lilIII;}};liiI1I=liiI1I||0x20;let lI1II1=ililII['lHALS'],i1ilII=lI1II1[lill1I(0x109,'1hN^')],iIIii1='';for(let Ii1ilI=0x0;Ii1ilI<liiI1I;Ii1ilI++)iIIii1+=lI1II1[lill1I(0x194,'d9#K')](Math['floor'](ililII[lill1I(0x154,'iZOp')](Math[lill1I(0x1a3,'&vyA')](),i1ilII)));return iIIii1;}function llI1I1(II11i1){const Ii1ii1=liI1i1,iliIil={'wOwnP':'\x0a可能连接不上接口，请检查网络','Cqfva':function(iliIii,lill1i){return iliIii==lill1i;},'bwtNS':Ii1ii1(0x158,'jq8N'),'MGxag':function(il1li,iIIill){return il1li!==iIIill;},'MVeIQ':Ii1ii1(0x188,'x]6x'),'LekWi':Ii1ii1(0x189,'4BSw')};if(iliIil[Ii1ii1(0x147,'^Joy')](typeof II11i1,iliIil[Ii1ii1(0x132,']lH5')]))try{if(iliIil['MGxag'](iliIil['MVeIQ'],'gXiea'))ii1li[Ii1ii1(0x19a,'Rxug')](iliIil[Ii1ii1(0x16c,']lH5')]);else return JSON[Ii1ii1(0x124,'1Si)')](II11i1);}catch(Ill11i){return console[Ii1ii1(0x134,'%hxK')](Ill11i),$[Ii1ii1(0x179,'hBUv')]($[Ii1ii1(0x1a0,'K79L')],'',iliIil[Ii1ii1(0xf8,'1hN^')]),[];}}function IlIlil(iilil){const Ilil11=liI1i1,Ill11l={'MbrUF':function(il1ll,i1ilIi){return il1ll===i1ilIi;},'tKMsK':Ilil11(0x180,'^Joy'),'jxAwD':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'};return new Promise(lill1l=>{const i1ii1=Ilil11,l1l1i1={'WLOOj':function(i1ilIl,llI11I){return Ill11l['MbrUF'](i1ilIl,llI11I);},'WQGzX':Ill11l[i1ii1(0x122,'d@mj')]},i1iiI={'url':iilil+'?'+new Date(),'timeout':0x2710,'headers':{'User-Agent':Ill11l[i1ii1(0x185,'x]6x')]}};$[i1ii1(0xf7,'E9nT')](i1iiI,async(Il1i11,iii1li,Iil1i1)=>{const il1ii=i1ii1;try{if(l1l1i1[il1ii(0x155,'VaJ8')](l1l1i1[il1ii(0x102,'aa)V')],l1l1i1[il1ii(0x15a,'z!s!')])){if(Il1i11)$[il1ii(0x181,'1Si)')]=![];else{if(Iil1i1)Iil1i1=JSON[il1ii(0x182,'n%Oo')](Iil1i1);$['getAuthorCodeListerr']=!![];}}else{IiilI1[il1ii(0x123,'Cz7R')](IIII1l)[il1ii(0x187,'MOmy')](iliIl1=>{const llI111=il1ii;IlI11[llI111(0x161,'ynyI')](iIIIIl[iliIl1]);});if(IlI1I[il1ii(0x13d,'M9e!')][il1ii(0xfb,'D@2[')]&&II11Ii['env'][il1ii(0x14b,'ynyI')]===il1ii(0x183,'g20X'))II11Il['log']=()=>{};}}catch(Ii1il1){$['logErr'](Ii1il1,iii1li),Iil1i1=null;}finally{lill1l(Iil1i1);}});});}function lIli1I(iii1ll,IIliI1){const i1iIiI=liI1i1,il1lI={'cpPuX':function(IliIIl,I1il1l){return IliIIl+I1il1l;},'NxGqg':function(lI1l1l,IIliII){return lI1l1l*IIliII;}};return il1lI[i1iIiI(0x16b,'@tDZ')](Math['floor'](il1lI[i1iIiI(0x136,'H#Gj')](Math['random'](),IIliI1-iii1ll)),iii1ll);}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
